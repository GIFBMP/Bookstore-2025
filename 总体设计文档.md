#### 项目名称：Bookstore
#### 功能概述

实现对一个书店系统等等管理，包含用户的注册、登录、创建、删除，对书的购买，选择，进货和修改信息，以及系统日志查询。

#### 主体逻辑说明

使用块状链表在外存中存储用户名到用户信息的映射，书的 `ISBN` 号，作者，名字，关键字到书具体信息的映射；用文件存储交易、进货的收入和支出，执行对应操作时在文件中读写。

使用一个栈在内存中记录当前登录的用户，登入、登出视为进栈、退栈，在栈中维护用户选择的书等信息。

#### 代码文件结构

`bookstore.h`：提供各类全局变量和函数的接口

`common.cpp`：定义 `bookstore.h` 中使用的全局变量，引用 `bookstore.h`

`BookManagement.cpp`：提供 `bookstore.h` 中书籍管理相关函数的实现，引用 `bookstore.h`

`UserManagement.cpp`：提供 `bookstore.h` 中用户管理相关函数的实现，引用 `bookstore.h`

`syslog.cpp`：提供 `bookstore.h` 中系统日志相关函数的实现，引用 `bookstore.h`

`main.cpp`：负责拆分指令并调用对应函数，引用 `bookstore.h`

#### 功能设计

`BookManagement.cpp`：

1.`select(isbn)`：选中一本书
2.`modify(isbn,name,author,keywords,price)`：修改选中的书的信息
3.`import(cnt,totalcost)`：进货
4.`showisbn(isbn)`，`showauthor(author)`，`showname(name)`，`showkeyword(keyword)`：根据查询指令的不同给出符合条件的书的信息
5.`buy(isbn,cnt)`：购买对应数量的书

`UserManagement.cpp`：

1.`login(userid,password)`：登录
2.`logout()`：登出
3.`user_reg(userid,password,username)`：注册普通用户
4.`passwd(userid,currentpassword,newpassword)`：修改密码
5.`useradd(userid,password,privilege,username)`：创建拥有对应权限的用户
6.`deluser(userid)`：删除用户

`syslog.cpp`：

1.`showall()`：显示总收入和支出
2.`showfinance(cnt)`：显示最后 `cnt` 笔交易的收入和支出
3.`reportfinance()`：显示财务报表
4.`reportemployee()`：显示员工工作日志
5.`log()`：显示系统日志

#### 数据库设计

`Blocklist<userid,user>`：存储用户名到用户具体信息的映射

`Blocklist<isbn,book>`：存储 `ISBN` 号到书籍信息的映射

`Blocklist<name,book>`：存储书名到书籍信息的映射

`Blocklist<author,book>`：存储作者到书籍信息的映射

`Blocklist<keyword,book>`：存储关键字到书籍信息的映射

`Datasaver<pair<double,double>>`：存储收入和支出

`Datasaver<double>`：存储总收入和总支出

#### 类、结构体设计

`book`：存储书的 `ISBN` 号·，名字，作者，关键字，单价

`user`：存储用户名、密码、权限

`index<len>`：固定长度字符串，用来存储 `isbn`，`name`，`author`，`keyword`，`username`，`password` 等信息